<script>
const input = document.getElementById('input');
const output = document.getElementById('output');
const copyBtn = document.getElementById('copy');
const clearBtn = document.getElementById('clear');

// Accents map (Alt + key → char)
const accents = {
  'a': 'á', 'e': 'é', 'i': 'í', 'o': 'ó', 'u': 'ú',
  'n': 'ñ', '/': '¿', '?': '¿'  // Alt + / or Alt + ? (Shift + / on UK) → ¿
};

// Real-time input listener
input.addEventListener('input', updateOutput);
input.addEventListener('keydown', handleKeyCombo);

function handleKeyCombo(e) {
  if (e.altKey && accents[e.key]) {
    e.preventDefault();
    const accent = accents[e.key];
    insertAtCursor(input, accent);
  }
}

function insertAtCursor(el, text) {
  const start = el.selectionStart;
  const end = el.selectionEnd;
  const value = el.value;
  el.value = value.substring(0, start) + text + value.substring(end);
  el.selectionStart = el.selectionEnd = start + text.length;
  el.focus();
  updateOutput();
}

function updateOutput() {
  output.textContent = input.value; // Mirror with accents
  copyBtn.style.display = input.value.trim() ? 'inline-block' : 'none';
}

function copyOutput() {
  navigator.clipboard.writeText(input.value).then(() => alert('Copied!'));
}

clearBtn.onclick = () => {
  input.value = '';
  output.textContent = '';
  copyBtn.style.display = 'none';
};

// Init
updateOutput();
</script>
